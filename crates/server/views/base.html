<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="{% block description %}{% endblock %}" />
    <title>{% block title %}{{ project_name }}{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@500;650&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Space Grotesk", "ui-sans-serif", "system-ui"],
              display: ["Fraunces", "ui-serif", "serif"],
            },
          },
        },
      };
    </script>
    <style>
      :root {
        --sand: #f6efe6;
        --clay: #d18b5a;
        --pine: #163b36;
        --sky: #bfe3e0;
        --ink: #0f1f1d;
        --mist: #e8f1f0;
      }

      .bg-landing {
        background: radial-gradient(
            960px 560px at 12% -10%,
            var(--sky) 0%,
            transparent 60%
          ),
          radial-gradient(
            840px 520px at 88% 6%,
            rgba(209, 139, 90, 0.35) 0%,
            transparent 55%
          ),
          linear-gradient(180deg, var(--sand) 0%, #ffffff 45%, #f7fbfb 100%);
      }

      @keyframes fade-up {
        from {
          opacity: 0;
          transform: translateY(18px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }

      .fade-1 {
        animation: fade-up 0.8s ease-out both;
      }

      .fade-2 {
        animation: fade-up 0.9s ease-out both;
        animation-delay: 0.12s;
      }

      .fade-3 {
        animation: fade-up 1s ease-out both;
        animation-delay: 0.24s;
      }

      .floaty {
        animation: float 5s ease-in-out infinite;
      }

      html.top-nav-open,
      body.top-nav-open {
        overflow: hidden;
      }
    </style>
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
  </head>
  <body class="bg-landing text-[color:var(--ink)] antialiased">
    <div class="min-h-screen">
      <header class="px-6 pt-8 sm:px-10">
        <div
          class="mx-auto flex max-w-6xl items-center justify-between gap-6"
        >
          <a class="flex items-center gap-3" href="/">
            <div
              class="grid h-11 w-11 place-items-center rounded-2xl bg-[color:var(--pine)] text-sm font-semibold text-white shadow-lg shadow-black/10"
            >
              RS
            </div>
            <div>
              <p
                class="text-xs uppercase tracking-[0.35em] text-[color:var(--pine)]"
              >
                {{ project_name }}
              </p>
              <p class="text-xs text-black/50">Api Service</p>
            </div>
          </a>
          <button
            type="button"
            data-top-nav-toggle
            aria-expanded="false"
            aria-controls="top-mobile-drawer"
            class="inline-flex items-center gap-2 rounded-full border border-black/10 bg-white/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-[color:var(--pine)] shadow-lg shadow-black/5 transition hover:-translate-y-0.5 md:hidden"
          >
            <svg viewBox="0 0 20 20" aria-hidden="true" class="h-4 w-4">
              <path
                d="M3 5h14M3 10h14M3 15h14"
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-width="1.5"
              ></path>
            </svg>
            Menu
          </button>
          <nav class="hidden items-center gap-6 text-sm md:flex">
            <a
              class="border border-black/10 bg-white/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-[color:var(--pine)] shadow-lg shadow-black/5 transition hover:-translate-y-0.5"
              href="/docs"
              >Docs</a
            >
            <a
              class="border border-[color:var(--pine)] bg-[color:var(--pine)] px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-white shadow-lg shadow-black/10 transition hover:-translate-y-0.5"
              href="/routes"
              >Routes</a
            >
            <a
              class="border border-black/10 bg-white/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-[color:var(--pine)] shadow-lg shadow-black/5 transition hover:-translate-y-0.5"
              href="/entities"
              >Entities</a
            >
            <a
              class="border border-black/10 bg-white/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-[color:var(--pine)] shadow-lg shadow-black/5 transition hover:-translate-y-0.5"
              href="/todo/ui"
              >Todo UI</a
            >
          </nav>
        </div>
        <div
          data-top-nav-overlay
          class="fixed inset-0 z-40 hidden bg-black/45 md:hidden"
        ></div>
        <aside
          id="top-mobile-drawer"
          data-top-nav-drawer
          class="fixed inset-y-0 right-0 z-50 box-border w-[min(88vw,22rem)] max-w-full translate-x-full border-l border-black/10 bg-white px-5 pb-6 pt-5 shadow-2xl transition-transform duration-200 ease-out md:hidden"
          role="dialog"
          aria-modal="true"
          aria-label="Primary navigation"
        >
          <div class="flex items-center justify-between gap-4 border-b border-black/10 pb-3">
            <p class="text-xs font-semibold uppercase tracking-[0.28em] text-black/50">Navigation</p>
            <button
              type="button"
              data-top-nav-close
              class="rounded-full border border-black/10 bg-[color:var(--mist)] px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-[color:var(--pine)]"
            >
              Close
            </button>
          </div>
          <nav class="mt-4 space-y-2">
            <a
              class="block border-l-2 border-transparent px-3 py-3 text-sm font-semibold text-[color:var(--pine)] transition hover:border-[color:var(--pine)] hover:bg-[color:var(--mist)]"
              data-top-nav-link
              href="/docs"
              >Docs</a
            >
            <a
              class="block border-l-2 border-transparent px-3 py-3 text-sm font-semibold text-[color:var(--pine)] transition hover:border-[color:var(--pine)] hover:bg-[color:var(--mist)]"
              data-top-nav-link
              href="/routes"
              >Routes</a
            >
            <a
              class="block border-l-2 border-transparent px-3 py-3 text-sm font-semibold text-[color:var(--pine)] transition hover:border-[color:var(--pine)] hover:bg-[color:var(--mist)]"
              data-top-nav-link
              href="/entities"
              >Entities</a
            >
            <a
              class="block border-l-2 border-transparent px-3 py-3 text-sm font-semibold text-[color:var(--pine)] transition hover:border-[color:var(--pine)] hover:bg-[color:var(--mist)]"
              data-top-nav-link
              href="/todo/ui"
              >Todo UI</a
            >
          </nav>
        </aside>
      </header>

      {% block content %}{% endblock %}

      <footer class="px-6 pb-10 sm:px-10">
        <div
          class="mx-auto flex max-w-6xl flex-col items-start justify-between gap-4 border-t border-black/10 pt-6 text-xs text-black/50 sm:flex-row sm:items-center"
        >
          <p>Built for Rust developers who want a bold hello world.</p>
          <p>Template time: {{ now }}</p>
        </div>
      </footer>
    </div>
    <script>
      (() => {
        const DRAWER_TRANSITION_MS = 200;
        const drawer = document.querySelector("[data-top-nav-drawer]");
        const overlay = document.querySelector("[data-top-nav-overlay]");
        const toggleButton = document.querySelector("[data-top-nav-toggle]");
        const closeButton = document.querySelector("[data-top-nav-close]");
        const links = Array.from(document.querySelectorAll("[data-top-nav-link]"));

        if (!drawer || !overlay || !toggleButton) {
          return;
        }

        let isOpen = false;

        const setExpanded = (expanded) => {
          toggleButton.setAttribute("aria-expanded", expanded ? "true" : "false");
        };

        const setScrollLock = (locked) => {
          document.documentElement.classList.toggle("top-nav-open", locked);
          document.body.classList.toggle("top-nav-open", locked);
        };

        const openDrawer = () => {
          if (isOpen) {
            return;
          }
          isOpen = true;
          overlay.classList.remove("hidden");
          drawer.classList.remove("translate-x-full");
          drawer.classList.add("translate-x-0");
          setExpanded(true);
          setScrollLock(true);
        };

        const closeDrawer = () => {
          if (!isOpen) {
            setExpanded(false);
            setScrollLock(false);
            return;
          }
          isOpen = false;
          drawer.classList.remove("translate-x-0");
          drawer.classList.add("translate-x-full");
          setExpanded(false);
          setScrollLock(false);
          window.setTimeout(() => {
            if (!isOpen) {
              overlay.classList.add("hidden");
            }
          }, DRAWER_TRANSITION_MS);
        };

        const toggleDrawer = () => {
          if (isOpen) {
            closeDrawer();
            return;
          }
          openDrawer();
        };

        toggleButton.addEventListener("click", (event) => {
          event.preventDefault();
          toggleDrawer();
        });

        if (closeButton) {
          closeButton.addEventListener("click", (event) => {
            event.preventDefault();
            closeDrawer();
          });
        }

        overlay.addEventListener("click", closeDrawer);

        for (const link of links) {
          link.addEventListener("click", closeDrawer);
        }

        document.addEventListener("pointerdown", (event) => {
          if (!isOpen) {
            return;
          }
          const target = event.target;
          if (!(target instanceof Node)) {
            return;
          }
          if (drawer.contains(target) || toggleButton.contains(target)) {
            return;
          }
          closeDrawer();
        });

        document.addEventListener("keydown", (event) => {
          if (!isOpen || event.key !== "Escape") {
            return;
          }
          closeDrawer();
        });

        window.addEventListener("resize", () => {
          if (window.matchMedia("(min-width: 768px)").matches) {
            closeDrawer();
          }
        });

        closeDrawer();
      })();
    </script>
  </body>
</html>
